"use strict";
var loadIndex = require('../routes/loadIndex.js')

var ClientMessageQueue = class ClientMessageQueue {

    constructor(client, fire_callback) {
      this.messages = [];
      this.client = client;
      this.fire_callback = fire_callback;
      this.capacity = 0;
    }

    setCapacity(capacity){
      this.capacity = capacity;
    }

    addMessage(message) {
      this.messages.push(message);
      if(this.messages.length >= this.capacity){
        this.fire_callback(this.client, this.messages);
      }
    }
};

module.exports = {
  getClientMQ : function(client, fire_callback){
    return new ClientMessageQueue(client, fire_callback);
  }
}